<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sayfa1</title>

    <style>
        input{
            display: block;
            margin:5px 0;
        }
    </style>
</head>
<body>
    
<h1>Sticker Sipariş Sayfası</h1>
<h2>Lütfen Davete Katılacak Kişi Sayısını Giriniz</h2>
<input type="text" id="kisisayisi">
<button id="btndevam">Devam</button>

<div id="kisilistesi"></div>


<script>
    let devamButonu = document.querySelector('#btndevam');
    devamButonu.addEventListener('click', function() {

        //location.reload()  sayfa yenilemesi yapar refresh işimizi görmedi
    
        // devam botonu tiklandiğinda bu kodlar çalışacak

        //Burada eski inputların silinmesi gerek

        let kisiInputlar = document.querySelectorAll('#kisilistesi > input');
        let kisiParagraflar = document.querySelectorAll('#kisilistesi > p');

        if(kisiInputlar.length > 0) {
            // demek kişi listesi içinde önceden inputlar mevcut

            for(let sira = 0; sira<kisiInputlar.length; sira++) {
                kisiInputlar[sira].remove()
                kisiParagraflar[sira].remove()
            }
        }

        let toplamKisi = document.querySelector('#kisisayisi').value;

        //inputların içerisine yazdiğimiz değer her zaman string dir..5 bile yazsak o '5' dir

         toplamKisi = parseInt(toplamKisi) // inputa girilen bilgi number a çevrildi

         // Girilen veriler için kontroller oluşturma
         /*mesela davetli sayisini 34234324324 gibi çok büyük rakamlar girdiğimizde tarayıcı her sekme için  ram de belirli bir alan ayırıyor bunu aştığı için bir şeyler ters gitti gibi bir uyarı veriyor işlemi yapmıyor bunun için girilen davetli sayısına bir sınırlama getirmemiz gerek */

         if(toplamKisi > 1000) {
            alert("En fazla 1000 kişi girilebilir")
            //return yazıp geri döndürüyoruz ki aşağıdaki döngü çalışmasın tekrar onu atlayıp fonksiyonun dışından bir şey varsa akışa devam ediyor
            return

         }

        for(let sayac=0; sayac<toplamKisi; sayac++)
       {
            let yeniEleman = document.createElement("input");
            yeniEleman.placeholder = ("Ad Soyad")

            let yeniParagraf = document.createElement('p');
            yeniParagraf.textContent = (1+sayac) + ".kisi"

            document.querySelector('#kisilistesi').appendChild(yeniParagraf)
            document.querySelector("#kisilistesi").appendChild(yeniEleman)

        }

       });
    
   

</script>
</body>
</html>